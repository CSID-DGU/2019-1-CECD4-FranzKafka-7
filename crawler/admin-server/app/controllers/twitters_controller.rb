class TwittersController < ApplicationController
    def months
        result = []
        Keyword.all.each do |k|
            result << Twitter.where(keyword: k).group_by_month(:p_date, format: "%s%3N").count.to_a
        end

        render json: result
    end
    def cache_months
        result = [[["1257001200000",56],["1259593200000",195],["1262271600000",2255],["1264950000000",8544],["1267369200000",4094],["1270047600000",2923],["1272639600000",1428],["1275318000000",1339],["1277910000000",1583],["1280588400000",1082],["1283266800000",1996],["1285858800000",2531],["1288537200000",2568],["1291129200000",1567],["1293807600000",2034],["1296486000000",4130],["1298905200000",125096],["1301583600000",26422],["1304175600000",10634],["1306854000000",6271],["1309446000000",8920],["1312124400000",8609],["1314802800000",5513],["1317394800000",5954],["1320073200000",5821],["1322665200000",3467],["1325343600000",7318],["1328022000000",6910],["1330527600000",10760],["1333206000000",8246],["1335798000000",6364],["1338476400000",5345],["1341068400000",5590],["1343746800000",11434],["1346425200000",8487],["1349017200000",6944],["1351695600000",5613],["1354287600000",8882],["1356966000000",3292],["1359644400000",10059],["1362063600000",3418],["1364742000000",12039],["1367334000000",6025],["1370012400000",3304],["1372604400000",3115],["1375282800000",3893],["1377961200000",3879],["1380553200000",5135],["1383231600000",4564],["1385823600000",2639],["1388502000000",2411],["1391180400000",2350],["1393599600000",5186],["1396278000000",9066],["1398870000000",4466],["1401548400000",2976],["1404140400000",4956],["1406818800000",6980],["1409497200000",5444],["1412089200000",5521],["1414767600000",11431],["1417359600000",21682],["1420038000000",39987],["1422716400000",45586],["1425135600000",34851],["1427814000000",39941],["1430406000000",50018],["1433084400000",35108],["1435676400000",37750],["1438354800000",39559],["1441033200000",29919],["1443625200000",28848],["1446303600000",30269],["1448895600000",38991],["1451574000000",40680],["1454252400000",42335],["1456758000000",29898],["1459436400000",57746],["1462028400000",34700],["1464706800000",30158],["1467298800000",59897],["1469977200000",34882],["1472655600000",223018],["1475247600000",49140],["1477926000000",41103],["1480518000000",41653],["1483196400000",40910],["1485874800000",38900],["1488294000000",31276],["1490972400000",28380],["1493564400000",30293],["1496242800000",24790],["1498834800000",29863],["1501513200000",29722],["1504191600000",26437],["1506783600000",24588],["1509462000000",132168],["1512054000000",27906],["1514732400000",28612],["1517410800000",48343],["1519830000000",17851],["1522508400000",18583],["1525100400000",19152],["1527778800000",14024],["1530370800000",20758],["1533049200000",19696],["1535727600000",22834],["1538319600000",19531],["1540998000000",17817],["1543590000000",18455],["1546268400000",19681],["1548946800000",24912],["1551366000000",20203],["1554044400000",20562],["1556636400000",20479],["1559314800000",334]],[["1233414000000",1],["1235833200000",0],["1238511600000",4],["1241103600000",4],["1243782000000",2],["1246374000000",14],["1249052400000",109],["1251730800000",106],["1254322800000",35],["1257001200000",33],["1259593200000",80],["1262271600000",38],["1264950000000",75],["1267369200000",135],["1270047600000",220],["1272639600000",153],["1275318000000",131],["1277910000000",131],["1280588400000",497],["1283266800000",185],["1285858800000",315],["1288537200000",1540],["1291129200000",933],["1293807600000",949],["1296486000000",1046],["1298905200000",1656],["1301583600000",2296],["1304175600000",520],["1306854000000",845],["1309446000000",167],["1312124400000",175],["1314802800000",240],["1317394800000",350],["1320073200000",593],["1322665200000",376],["1325343600000",468],["1328022000000",830],["1330527600000",1009],["1333206000000",4615],["1335798000000",9186],["1338476400000",1612],["1341068400000",481],["1343746800000",186],["1346425200000",210],["1349017200000",1120],["1351695600000",3173],["1354287600000",2365],["1356966000000",731],["1359644400000",1017],["1362063600000",9699],["1364742000000",2236],["1367334000000",623],["1370012400000",433],["1372604400000",552],["1375282800000",392],["1377961200000",242],["1380553200000",755],["1383231600000",1143],["1385823600000",690],["1388502000000",758],["1391180400000",1143],["1393599600000",1620],["1396278000000",1350],["1398870000000",1001],["1401548400000",418],["1404140400000",283],["1406818800000",162],["1409497200000",197],["1412089200000",702],["1414767600000",697],["1417359600000",326],["1420038000000",499],["1422716400000",763],["1425135600000",1973],["1427814000000",694],["1430406000000",535],["1433084400000",293],["1435676400000",291],["1438354800000",380],["1441033200000",613],["1443625200000",1928],["1446303600000",1082],["1448895600000",409],["1451574000000",436],["1454252400000",647],["1456758000000",887],["1459436400000",917],["1462028400000",788],["1464706800000",482],["1467298800000",402],["1469977200000",581],["1472655600000",286],["1475247600000",382],["1477926000000",857],["1480518000000",369],["1483196400000",621],["1485874800000",1021],["1488294000000",1554],["1490972400000",842],["1493564400000",9583],["1496242800000",3143],["1498834800000",705],["1501513200000",525],["1504191600000",571],["1506783600000",1171],["1509462000000",981],["1512054000000",1648],["1514732400000",1233],["1517410800000",2785],["1519830000000",1322],["1522508400000",1260],["1525100400000",547],["1527778800000",415],["1530370800000",852],["1533049200000",975],["1535727600000",414],["1538319600000",727],["1540998000000",2020],["1543590000000",758],["1546268400000",1257],["1548946800000",688],["1551366000000",1022],["1554044400000",61398],["1556636400000",8801],["1559314800000",1277]]]
        render json: result
    end
end
